<script>
    $('.flash-deal-slider').owlCarousel({
        loop: false,
        autoplay: true,
        center: false,
        margin: 10,
        nav: true,
        navText: ["<i class='czi-arrow-left'></i>", "<i class='czi-arrow-right'></i>"],
        dots: false,
        autoplayHoverPause: true,
        'ltr': false,
        // center: true,
        responsive: {
            //X-Small
            0: {
                items: 1.1
            },
            360: {
                items: 1.2
            },
            375: {
                items: 1.4
            },
            480: {
                items: 1.8
            },
            //Small
            576: {
                items: 2
            },
            //Medium
            768: {
                items: 3
            },
            //Large
            992: {
                items: 4
            },
            //Extra large
            1200: {
                items: 4
            },
        }
    })
    $('.flash-deal-slider-mobile').owlCarousel({
        loop: false,
        autoplay: true,
        center: true,
        margin: 10,
        nav: true,
        navText: ["<i class='czi-arrow-left'></i>", "<i class='czi-arrow-right'></i>"],
        dots: false,
        autoplayHoverPause: true,
        'ltr': false,
        // center: true,
        responsive: {
            //X-Small
            0: {
                items: 1.1
            },
            360: {
                items: 1.2
            },
            375: {
                items: 1.4
            },
            480: {
                items: 1.8
            },
            //Small
            576: {
                items: 2
            },
            //Medium
            768: {
                items: 3
            },
            //Large
            992: {
                items: 4
            },
            //Extra large
            1200: {
                items: 4
            },
        }
    })

    $('#web-feature-deal-slider').owlCarousel({
        loop: false,
        autoplay: true,
        margin: 20,
        nav: false,
        //navText: ["<i class='czi-arrow-left'></i>", "<i class='czi-arrow-right'></i>"],
        dots: false,
        autoplayHoverPause: true,
        'ltr': true,
        // center: true,
        responsive: {
            //X-Small
            0: {
                items: 1
            },
            360: {
                items: 1
            },
            375: {
                items: 1
            },
            540: {
                items: 2
            },
            //Small
            576: {
                items: 2
            },
            //Medium
            768: {
                items: 2
            },
            //Large
            992: {
                items: 2
            },
            //Extra large
            1200: {
                items: 2
            },
            //Extra extra large
            1400: {
                items: 2
            }
        }
    })

    $('.new-arrivals-product').owlCarousel({
        loop: true,
        autoplay: true,
        margin: 20,
        nav: true,
        navText: ["<i class='czi-arrow-left'></i>", "<i class='czi-arrow-right'></i>"],
        dots: false,
        autoplayHoverPause: true,
        'ltr': true,
        // center: true,
        responsive: {
            //X-Small
            0: {
                items: 1.1
            },
            360: {
                items: 1.2
            },
            375: {
                items: 1.4
            },
            540: {
                items: 2
            },
            //Small
            576: {
                items: 2
            },
            //Medium
            768: {
                items: 2
            },
            //Large
            992: {
                items: 2
            },
            //Extra large
            1200: {
                items: 4
            },
            //Extra extra large
            1400: {
                items: 4
            }
        }
    })

    $('.category-wise-product-slider').owlCarousel({
        loop: true,
        autoplay: true,
        margin: 20,
        nav: true,
        navText: ["<i class='czi-arrow-left'></i>", "<i class='czi-arrow-right'></i>"],
        dots: false,
        autoplayHoverPause: true,
        'ltr': true,
        responsive: {
            0: {
                items: 1.2
            },
            375: {
                items: 1.4
            },
            425: {
                items: 2
            },
            576: {
                items: 3
            },
            768: {
                items: 4
            },
            992: {
                items: 5
            },
            1200: {
                items: 6
            },
        }
    })
</script>
<script>
    $('#featured_products_list').owlCarousel({
        loop: true,
        autoplay: true,
        margin: 20,
        nav: true,
        navText: ["<i class='czi-arrow-left'></i>", "<i class='czi-arrow-right'></i>"],
        dots: false,
        autoplayHoverPause: true,
        'ltr': false,
        // center: true,
        responsive: {
            //X-Small
            0: {
                items: 1
            },
            360: {
                items: 1
            },
            375: {
                items: 1
            },
            540: {
                items: 2
            },
            //Small
            576: {
                items: 2
            },
            //Medium
            768: {
                items: 3
            },
            //Large
            992: {
                items: 4
            },
            //Extra large
            1200: {
                items: 6
            },
        }
    });
</script>
<script>
    $('.hero-slider').owlCarousel({
        loop: false,
        autoplay: true,
        margin: 20,
        nav: true,
        navText: ["<i class='czi-arrow-left'></i>", "<i class='czi-arrow-right'></i>"],
        dots: true,
        autoplayHoverPause: true,
        // 'ltr': false,
        // center: true,
        items: 1
    });
</script>
<script>
    $('.brands-slider').owlCarousel({
        loop: false,
        autoplay: true,
        margin: 10,
        nav: false,
        'ltr': true,
        autoplayHoverPause: true,
        // center: true,
        responsive: {
            //X-Small
            0: {
                items: 4,
                dots: true,
            },
            360: {
                items: 5,
                dots: true,
            },
            //Small
            576: {
                items: 6,
                dots: false,
            },
            //Medium
            768: {
                items: 7,
                dots: false,
            },
            //Large
            992: {
                items: 9,
                dots: false,
            },
            //Extra large
            1200: {
                items: 11,
                dots: false,
            },
            //Extra extra large
            1400: {
                items: 12,
                dots: false,
            }
        }
    })
</script>
<script>
    $('#category-slider, #top-seller-slider').owlCarousel({
        loop: false,
        autoplay: true,
        margin: 20,
        nav: false,
        // navText: ["<i class='czi-arrow-left'></i>","<i class='czi-arrow-right'></i>"],
        dots: true,
        autoplayHoverPause: true,
        'ltr': true,
        // center: true,
        responsive: {
            //X-Small
            0: {
                items: 2
            },
            360: {
                items: 3
            },
            375: {
                items: 3
            },
            540: {
                items: 4
            },
            //Small
            576: {
                items: 5
            },
            //Medium
            768: {
                items: 6
            },
            //Large
            992: {
                items: 8
            },
            //Extra large
            1200: {
                items: 10
            },
            //Extra extra large
            1400: {
                items: 11
            }
        }
    })
    $('.categories--slider').owlCarousel({
        loop: false,
        autoplay: true,
        margin: 20,
        nav: false,
        // navText: ["<i class='czi-arrow-left'></i>","<i class='czi-arrow-right'></i>"],
        dots: false,
        autoplayHoverPause: true,
        'ltr': true,
        // center: true,
        responsive: {
            //X-Small
            0: {
                items: 3
            },
            360: {
                items: 3.2
            },
            375: {
                items: 3.5
            },
            540: {
                items: 4
            },
            //Small
            576: {
                items: 5
            },
            //Medium
            768: {
                items: 6
            },
            //Large
            992: {
                items: 8
            },
            //Extra large
            1200: {
                items: 10
            },
            //Extra extra large
            1400: {
                items: 11
            }
        }
    })
</script>
<script>
    // Others Store Slider
    const othersStore = $(".others-store-slider").owlCarousel({
        responsiveClass: true,
        nav: false,
        dots: false,
        loop: true,
        autoplay: true,
        autoplayTimeout: 5000,
        autoplayHoverPause: true,
        smartSpeed: 600,
        rtl: false,
        responsive: {
            0: {
                items: 1.3,
                margin: 10,
            },
            480: {
                items: 2,
                margin: 26,
            },
            768: {
                items: 2,
                margin: 26,
            },
            992: {
                items: 3,
                margin: 26,
            },
            1200: {
                items: 4,
                margin: 26,
            },
        },
    });
    $(".store-next").on("click", function() {
        othersStore.trigger("next.owl.carousel", [600]);
    });
    $(".store-prev").on("click", function() {
        othersStore.trigger("prev.owl.carousel", [600]);
    });
</script>
<script>
    function myFunction() {
        $('#anouncement').slideUp(300);
    }
    $(".category-menu").find(".mega_menu").parents("li").addClass("has-sub-item").find("> a").append(
        "<i class='czi-arrow-right'></i>");

    $('.category-menu-toggle-btn').on('click', function() {
        $('.megamenu-wrap').toggleClass('show')
    });

    $('.navbar-tool-icon-box').on('click', function() {
        $('.megamenu-wrap').removeClass('show')
    })

    // mega menu will remove when window reload
    $(window).on('scroll', function() {
        $('.megamenu-wrap').removeClass('show')
    });
</script>
<script>
    $('.close-search-form-mobile').on('click', function() {
        $('.search-form-mobile').removeClass('active')
    })
    $('.open-search-form-mobile').on('click', function() {
        $('.search-form-mobile').addClass('active')
    })
</script>
<script type="text/javascript"></script>
<script>
    $(document).ready(function() {
        const $stickyElement = $('.bottom-sticky_ele');
        const $offsetElement = $('.bottom-sticky_offset');

        if ($stickyElement.length !== 0) {
            $(window).on('scroll', function() {
                const elementOffset = $offsetElement.offset().top - ($(window).height() / 1.2);
                const scrollTop = $(window).scrollTop();

                if (scrollTop >= elementOffset) {
                    $stickyElement.addClass('stick');
                } else {
                    $stickyElement.removeClass('stick');
                }
            });
        }
    });
</script>
<script>
    $(document).ready(function() {
        $('.password-toggle-btn').on('click', function() {
            let checkbox = $(this).find('input[type=checkbox]');
            let eyeIcon = $(this).find('i');
            checkbox.change(function() {
                if (checkbox.is(':checked')) {
                    eyeIcon.removeClass('tio-hidden').addClass('tio-invisible');
                } else {
                    eyeIcon.removeClass('tio-invisible').addClass('tio-hidden');
                }
            });
        })

    });
</script>
<script>
    toastr.options = {
        "closeButton": false,
        "debug": false,
        "newestOnTop": false,
        "progressBar": false,
        "positionClass": "toast-top-right",
        "preventDuplicates": false,
        "onclick": null,
        "showDuration": "300",
        "hideDuration": "1000",
        "timeOut": "5000",
        "extendedTimeOut": "1000",
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
    }
</script>
<script>
    function addWishlist(product_id, modalId) {
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="_token"]').attr('content')
            }
        });
        $.ajax({
            url: "https://6valley.6amtech.com/store-wishlist",
            method: 'POST',
            data: {
                product_id: product_id
            },
            success: function(data) {
                if (data.value == 1) {
                    $('.countWishlist').html(data.count);
                    $('.countWishlist-' + product_id).text(data.product_count);
                    $('.tooltip').html('');
                    $(`.wishlist_icon_${product_id}`).removeClass('fa fa-heart-o').addClass('fa fa-heart');
                    $('#add-wishlist-modal').modal('show');
                    $(`#${modalId}`).modal('show');
                } else if (data.value == 2) {
                    $('#remove-wishlist-modal').modal('show');
                    $('.countWishlist').html(data.count);
                    $('.countWishlist-' + product_id).text(data.product_count);
                    $(`.wishlist_icon_${product_id}`).removeClass('fa fa-heart').addClass('fa fa-heart-o');
                } else {
                    $('#login-alert-modal').modal('show');
                }
            }
        });
    }

    function removeWishlist(product_id, modalId) {
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="_token"]').attr('content')
            }
        });
        $.ajax({
            url: "https://6valley.6amtech.com/delete-wishlist",
            method: 'POST',
            data: {
                id: product_id
            },
            beforeSend: function() {
                $('#loading').show();
            },
            success: function(data) {
                $(`#${modalId}`).modal('show');

                $('.countWishlist').html(parseInt($('.countWishlist').html()) - 1);
                $('#row_id' + product_id).hide();
                $('.tooltip').html('');
                if (parseInt($('.countWishlist').html()) % 15 === 0) {
                    if ($('#wishlist_paginated_page').val() == 1) {
                        $("#set-wish-list").empty().append(`
                        <center>
                            <h6 class="text-muted">
                                No data found.
                            </h6>
                        </center>
                    `);
                    } else {
                        let page_value = $('#wishlist_paginated_page').val();
                        window.location.href = 'https://6valley.6amtech.com/wishlists?page=' + (page_value -
                            1);
                    }
                }
            },
            complete: function() {
                $('#loading').hide();
            },
        });


    }

    function quickView(product_id) {
        $.get({
            url: 'https://6valley.6amtech.com/quick-view',
            dataType: 'json',
            data: {
                product_id: product_id
            },
            beforeSend: function() {
                $('#loading').show();
            },
            success: function(data) {
                console.log("success...")
                $('#quick-view').modal('show');
                $('#quick-view-modal').empty().html(data.view);
            },
            complete: function() {
                $('#loading').hide();
            },
        });
    }

    function addToCart(form_id = 'add-to-cart-form', redirect_to_checkout = false) {
        if (checkAddToCartValidity()) {
            $.ajaxSetup({
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="_token"]').attr('content')
                }
            });
            $.post({
                url: 'https://6valley.6amtech.com/cart/add',
                data: $('#' + form_id).serializeArray(),
                beforeSend: function() {
                    $('#loading').show();
                },
                success: function(response) {
                    console.log(response);
                    if (response.status == 1) {
                        updateNavCart();
                        toastr.success(response.message, {
                            CloseButton: true,
                            ProgressBar: true
                        });
                        $('.call-when-done').click();
                        if (redirect_to_checkout) {
                            location.href = "https://6valley.6amtech.com/checkout-details";
                        }
                        return false;
                    } else if (response.status == 0) {
                        $('#outof-stock-modal-message').html(response.message);
                        $('#outof-stock-modal').modal('show');
                        return false;
                    }
                },
                complete: function() {
                    $('#loading').hide();

                }
            });
        } else {
            Swal.fire({
                type: 'info',
                title: 'Cart',
                text: 'Please choose all the options'
            });
        }
    }

    function buy_now() {
        addToCart('add-to-cart-form', true);
        /* location.href = "https://6valley.6amtech.com/checkout-details"; */
    }

    function currency_change(currency_code) {
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="_token"]').attr('content')
            }
        });
        $.ajax({
            type: 'POST',
            url: 'https://6valley.6amtech.com/currency',
            data: {
                currency_code: currency_code
            },
            success: function(data) {
                toastr.success('Currency changed to' + data.name);
                location.reload();
            }
        });
    }

    function removeFromCart(key) {
        $.post('https://6valley.6amtech.com/cart/remove', {
            _token: 'vacXGQWIFEokET7WgyI7kGRLx02mRHSPVRwizRMv',
            key: key
        }, function(response) {
            $('#cod-for-cart').hide();
            updateNavCart();
            $('#cart-summary').empty().html(response.data);
            toastr.info('Item has been removed from cart', {
                CloseButton: true,
                ProgressBar: true
            });
            let segment_array = window.location.pathname.split('/');
            let segment = segment_array[segment_array.length - 1];
            if (segment === 'checkout-payment' || segment === 'checkout-details') {
                location.reload();
            }
        });
    }

    function updateNavCart() {
        $.post('https://6valley.6amtech.com/cart/nav-cart-items', {
            _token: 'vacXGQWIFEokET7WgyI7kGRLx02mRHSPVRwizRMv'
        }, function(response) {
            $('#cart_items').html(response.data);
        });
    }
    /*new*/
    $("#add-to-cart-form").on("submit", function(e) {
        e.preventDefault();
    });

    /*new*/
    function cartQuantityInitialize() {
        $('.btn-number').click(function(e) {
            e.preventDefault();

            fieldName = $(this).attr('data-field');
            type = $(this).attr('data-type');
            productType = $(this).attr('product-type');
            var input = $("input[name='" + fieldName + "']");
            var currentVal = parseInt($('.input-number').val());
            // alert(currentVal);
            if (!isNaN(currentVal)) {
                // console.log(productType)
                if (type == 'minus') {

                    if (currentVal > $('.input-number').attr('min')) {
                        $('.input-number').val(currentVal - 1).change();
                    }
                    if (parseInt($('.input-number').val()) == $('.input-number').attr('min')) {
                        $(this).attr('disabled', true);
                    }

                } else if (type == 'plus') {
                    // alert('ok out of stock');
                    if (currentVal < $('.input-number').attr('max') || (productType === 'digital')) {
                        $('.input-number').val(currentVal + 1).change();
                    }

                    if ((parseInt(input.val()) == $('.input-number').attr('max')) && (productType ===
                            'physical')) {
                        $(this).attr('disabled', true);
                    }

                }
            } else {
                $('.input-number').val(0);
            }
        });

        $('.input-number').focusin(function() {
            $(this).data('oldValue', $(this).val());
        });

        $('.input-number').change(function() {
            productType = $(this).attr('product-type');
            minValue = parseInt($(this).attr('min'));
            maxValue = parseInt($(this).attr('max'));
            valueCurrent = parseInt($(this).val());
            var name = $(this).attr('name');
            if (valueCurrent >= minValue) {
                $(".btn-number[data-type='minus'][data-field='" + name + "']").removeAttr('disabled')
            } else {
                Swal.fire({
                    icon: 'error',
                    title: 'Cart',
                    text: 'Sorry the minimum order quantity does not match'
                });
                $(this).val($(this).data('oldValue'));
            }
            if (productType === 'digital' || valueCurrent <= maxValue) {
                $(".btn-number[data-type='plus'][data-field='" + name + "']").removeAttr('disabled')
            } else {
                Swal.fire({
                    icon: 'error',
                    title: 'Cart',
                    text: 'Sorry stock limit exceeded.'
                });
                $(this).val($(this).data('oldValue'));
            }


        });
        $(".input-number").keydown(function(e) {
            // Allow: backspace, delete, tab, escape, enter and .
            if (
                $.inArray(e.keyCode, [46, 8, 9, 27, 13, 190]) !== -1 ||
                // Allow: Ctrl+A
                (e.keyCode == 65 && e.ctrlKey === true) ||
                // Allow: home, end, left, right
                (e.keyCode >= 35 && e.keyCode <= 39)
            ) {
                // let it happen, don't do anything
                return;
            }
            // Ensure that it is a number and stop the keypress
            if (
                (e.shiftKey || e.keyCode < 48 || e.keyCode > 57) &&
                (e.keyCode < 96 || e.keyCode > 105)
            ) {
                e.preventDefault();
            }
        });
    }

    function updateQuantity(key, element) {
        $.post('https://6valley.6amtech.com/cart/updateQuantity', {
            _token: 'vacXGQWIFEokET7WgyI7kGRLx02mRHSPVRwizRMv',
            key: key,
            quantity: element.value
        }, function(data) {
            updateNavCart();
            $('#cart-summary').empty().html(data);
        });
    }



    function updateCartQuantity(cart_id, product_id, action, event) {
        let remove_url = $("#remove_from_cart_url").data("url");
        let update_quantity_url = $("#update_quantity_url").data("url");
        let token = $('meta[name="_token"]').attr("content");
        let product_qyt =
            parseInt($(`.cartQuantity${cart_id}`).val()) + parseInt(action);
        let cart_quantity_of = $(`.cartQuantity${cart_id}`);
        let segment_array = window.location.pathname.split("/");
        let segment = segment_array[segment_array.length - 1];

        if (cart_quantity_of.val() == 0) {
            toastr.info($('.cannot_use_zero').data('text'), {
                CloseButton: true,
                ProgressBar: true,
            });
            cart_quantity_of.val(cart_quantity_of.data("min"));
        } else if (
            (cart_quantity_of.val() == cart_quantity_of.data("min") &&
                event == "minus")
        ) {
            $.post(
                remove_url, {
                    _token: token,
                    key: cart_id,
                },
                function(response) {
                    updateNavCart();
                    toastr.info(response.message, {
                        CloseButton: true,
                        ProgressBar: true,
                    });
                    if (
                        segment === "shop-cart" ||
                        segment === "checkout-payment" ||
                        segment === "checkout-details"
                    ) {
                        location.reload();
                    }
                }
            );
        } else {
            if (cart_quantity_of.val() < cart_quantity_of.data("min")) {
                let min_value = cart_quantity_of.data("min");
                toastr.error('Minimum order quantity cannot be less than ' + min_value);
                cart_quantity_of.val(min_value)
                updateCartQuantity(cart_id, product_id, action, event)
            } else {
                $(`.cartQuantity${cart_id}`).html(product_qyt);
                $.post(
                    update_quantity_url, {
                        _token: token,
                        key: cart_id,
                        product_id: product_id,
                        quantity: product_qyt,
                    },
                    function(response) {
                        if (response["status"] == 0) {
                            toastr.error(response["message"]);
                        } else {
                            toastr.success(response["message"]);
                        }
                        response["qty"] <= 1 ?
                            $(`.quantity__minus${cart_id}`).html(
                                '<i class="tio-delete-outlined text-danger fs-10"></i>'
                            ) :
                            $(`.quantity__minus${cart_id}`).html(
                                '<i class="tio-remove fs-10"></i>'
                            );

                        $(`.cartQuantity${cart_id}`).val(response["qty"]);
                        $(`.cartQuantity${cart_id}`).html(response["qty"]);
                        $(`.cart_quantity_multiply${cart_id}`).html(response["qty"]);
                        $(".cart_total_amount").html(response.total_price);
                        $(`.discount_price_of_${cart_id}`).html(
                            response["discount_price"]
                        );
                        $(`.quantity_price_of_${cart_id}`).html(
                            response["quantity_price"]
                        );
                        $(`.total_discount`).html(
                            response["total_discount_price"]
                        );
                        $(`.free_delivery_amount_need`).html(
                            response.free_delivery_status.amount_need
                        );
                        if (response.free_delivery_status.amount_need <= 0) {
                            $('.amount_fullfill').removeClass('d-none');
                            $('.amount_need_to_fullfill').addClass('d-none');
                        } else {
                            $('.amount_fullfill').addClass('d-none');
                            $('.amount_need_to_fullfill').removeClass('d-none');
                        }
                        const progressBar = document.querySelector('.progress-bar');
                        progressBar.style.width = response.free_delivery_status.percentage + '%';
                        if (response["qty"] == cart_quantity_of.data("min")) {
                            cart_quantity_of
                                .parent()
                                .find(".quantity__minus")
                                .html(
                                    '<i class="tio-delete-outlined text-danger fs-10"></i>'
                                );
                        } else {
                            cart_quantity_of
                                .parent()
                                .find(".quantity__minus")
                                .html('<i class="tio-remove fs-10"></i>');
                        }
                        if (
                            segment === "shop-cart" ||
                            segment === "checkout-payment" ||
                            segment === "checkout-details"
                        ) {
                            location.reload();
                        }
                    }
                );
            }
        }
    }
    $('#add-to-cart-form input').on('change', function() {
        getVariantPrice();
    });

    function getVariantPrice() {
        if ($('#add-to-cart-form input[name=quantity]').val() > 0 && checkAddToCartValidity()) {
            $.ajaxSetup({
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="_token"]').attr('content')
                }
            });
            $.ajax({
                type: "POST",
                url: 'https://6valley.6amtech.com/cart/variant_price',
                data: $('#add-to-cart-form').serializeArray(),
                success: function(data) {
                    $('#add-to-cart-form #chosen_price_div').removeClass('d-none');
                    $('#add-to-cart-form #chosen_price_div #chosen_price').html(data.price);
                    $('#chosen_price_mobile').html(data.price);
                    $('#set-tax-amount-mobile').html(data.tax);
                    $('#set-tax-amount').html(data.tax);
                    $('#set-discount-amount').html(data.discount);
                    $('#available-quantity').html(data.quantity);
                    $('.cart-qty-field').attr('max', data.quantity);
                }
            });
        }
    }

    function checkAddToCartValidity() {
        var names = {};
        $('#add-to-cart-form input:radio').each(function() { // find unique names
            names[$(this).attr('name')] = true;
        });
        var count = 0;
        $.each(names, function() { // then count them
            count++;
        });
        if ($('input:radio:checked').length == count) {
            return true;
        }
        return false;
    }

    $(document).ready(function() {
        $('#popup-modal').appendTo("body").modal('show');
    });

    $(".clickable").click(function() {
        window.location = $(this).find("a").attr("href");
        return false;
    });
</script>
<script>
    function couponCode() {
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="_token"]').attr('content')
            }
        });
        $.ajax({
            type: "POST",
            url: 'https://6valley.6amtech.com/coupon/apply',
            data: $('#coupon-code-ajax').serializeArray(),
            success: function(data) {
                /* console.log(data);
                return false; */
                if (data.status == 1) {
                    let ms = data.messages;
                    ms.forEach(
                        function(m, index) {
                            toastr.success(m, index, {
                                CloseButton: true,
                                ProgressBar: true
                            });
                        }
                    );
                } else {
                    let ms = data.messages;
                    ms.forEach(
                        function(m, index) {
                            toastr.error(m, index, {
                                CloseButton: true,
                                ProgressBar: true
                            });
                        }
                    );
                }
                setInterval(function() {
                    location.reload();
                }, 2000);
            }
        });
    }

    jQuery(".search-bar-input").keyup(function() {
        $(".search-card").css("display", "block");
        let name = $(".search-bar-input").val();
        if (name.length > 0) {
            $.get({
                url: 'https://6valley.6amtech.com/searched-products',
                dataType: 'json',
                data: {
                    name: name
                },
                beforeSend: function() {
                    $('#loading').show();
                },
                success: function(data) {
                    $('.search-result-box').empty().html(data.result)
                },
                complete: function() {
                    $('#loading').hide();
                },
            });
        } else {
            $('.search-result-box').empty();
        }
    });

    jQuery(".search-bar-input-mobile").keyup(function() {
        $(".search-card").css("display", "block");
        let name = $(".search-bar-input-mobile").val();
        if (name.length > 0) {
            $.get({
                url: 'https://6valley.6amtech.com/searched-products',
                dataType: 'json',
                data: {
                    name: name
                },
                beforeSend: function() {
                    $('#loading').show();
                },
                success: function(data) {
                    $('.search-result-box').empty().html(data.result)
                },
                complete: function() {
                    $('#loading').hide();
                },
            });
        } else {
            $('.search-result-box').empty();
        }
    });

    jQuery(document).mouseup(function(e) {
        var container = $(".search-card");
        if (!container.is(e.target) && container.has(e.target).length === 0) {
            container.hide();
        }
    });

    function route_alert(route, message) {
        Swal.fire({
            title: 'Are you sure?',
            text: message,
            type: 'warning',
            showCancelButton: true,
            cancelButtonColor: 'default',
            confirmButtonColor: '#1455ac',
            cancelButtonText: 'No',
            confirmButtonText: 'Yes',
            reverseButtons: true
        }).then((result) => {
            if (result.value) {
                location.href = route;
            }
        })
    }

    function order_again(order_id) {
        $.ajaxSetup({
            headers: {
                "X-CSRF-TOKEN": $('meta[name="_token"]').attr("content"),
            },
        });
        $.ajax({
            type: "POST",
            url: $("#order_again_url").data("url"),
            data: {
                order_id,
            },
            beforeSend: function() {
                $('#loading').show();
            },
            success: function(response) {
                if (response.status === 1) {
                    updateNavCart();
                    toastr.success(response.message, {
                        CloseButton: true,
                        ProgressBar: true,
                        timeOut: 3000, // duration
                    });
                    location.href = response.redirect_url;
                    return false;
                } else if (response.status === 0) {
                    toastr.warning(response.message, {
                        CloseButton: true,
                        ProgressBar: true,
                        timeOut: 2000, // duration
                    });
                    return false;
                }
            },
            complete: function() {
                $('#loading').hide();
            },
        });
    }
</script>
<script>
    $('.filter-show-btn').on('click', function() {
        $('#shop-sidebar').toggleClass('show active');
    })
    $('.cz-sidebar-header .close').on('click', function() {
        $('#shop-sidebar').removeClass('show active');
    })
    $('.remove-address-by-modal').on('click', function() {
        let link = $(this).data('link');
        $('#remove-address-link').attr('href', link);
        $('#remove-address').modal('show');
    });
</script>
<script>
    let cookie_content = `
    <div class="cookie-section">
        <div class="container">
            <div class="d-flex flex-wrap align-items-center justify-content-between column-gap-4 row-gap-3">
                <div class="text-wrapper">
                    <h5 class="title">Your Privacy Matter</h5>
                    <div>By clicking “Yes, I agree”, you agree to store cookies on your device and disclose information in accordance with our Cookie Policy.</div>
                </div>
                <div class="btn-wrapper">
                    <span class="text-white cursor-pointer" id="cookie-reject">No thanks</span>
                    <button class="btn btn-success cookie-accept" id="cookie-accept">Yes i Accept</button>
                </div>
            </div>
        </div>
    </div>
`;
    $(document).on('click', '#cookie-accept', function() {
        document.cookie = '6valley_cookie_consent=accepted; max-age=' + 60 * 60 * 24 * 30;
        $('#cookie-section').hide();
    });
    $(document).on('click', '#cookie-reject', function() {
        document.cookie = '6valley_cookie_consent=reject; max-age=' + 60 * 60 * 24;
        $('#cookie-section').hide();
    });

    $(document).ready(function() {
        if (document.cookie.indexOf("6valley_cookie_consent=accepted") !== -1) {
            $('#cookie-section').hide();
        } else {
            $('#cookie-section').html(cookie_content).show();
        }
    });
</script>
<script>
    $(document).ready(function() {
        const currentUrl = new URL(window.location.href);
        const referral_code_parameter = new URLSearchParams(currentUrl.search).get("referral_code");
        if (referral_code_parameter) {
            window.location.href = "https://6valley.6amtech.com/customer/auth/sign-up?referral_code=" +
                referral_code_parameter;
        }
    });
</script>
<script>
    /*========================
        04: Background Image
        ==========================*/
    var $bgImg = $("[data-bg-img]");
    $bgImg
        .css("background-image", function() {
            return 'url("' + $(this).data("bg-img") + '")';
        })
        .removeAttr("data-bg-img")
        .addClass("bg-img");
</script>
<script>
    /*--flash deal Progressbar --*/
    function update_flash_deal_progress_bar() {
        const current_time_stamp = new Date().getTime();
        const start_date = new Date('2022-04-12 00:00:00').getTime();
        const countdownElement = document.querySelector('.cz-countdown');
        const get_end_time = countdownElement.getAttribute('data-countdown');
        const end_time = new Date(get_end_time).getTime();
        let time_progress = ((current_time_stamp - start_date) / (end_time - start_date)) * 100;
        const progress_bar = document.querySelector('.flash-deal-progress-bar');
        progress_bar.style.width = time_progress + '%';
    }
    update_flash_deal_progress_bar();
    setInterval(update_flash_deal_progress_bar, 10000);
    /*-- end flash deal Progressbar --*/
</script>